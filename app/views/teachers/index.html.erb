<%= provide(:h1, "All BJC Teachers") %>


<div class="col-12">
  <table class="table table-striped js-dataTable">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">Status</th>
        <th scope="col">Snap<i>!</i></th>
        <th scope="col">Website</th>
        <th scope="col">School</th>
        <th scope="col">Location</th>
        <th scope="col">Created</th>
      </tr>
    </thead>
    <tbody>
      <% @validated_teachers.each do |teacher| %>
      <tr>
        <%# TODO: Refactor this row into a partial. %>
        <td> <%= link_to(teacher.full_name, edit_teacher_path(teacher)) %> </td>
        <td> <%= teacher.email %> </td>
        <td> <%= teacher.display_status %> </td>
        <td>
          <%# TODO: Extract this into a method / helper. %>
          <% if ['N/A', 'None', '', nil].include?(teacher[:snap]) %>
            â€”
          <% else %>
            <a href="https://snap.berkeley.edu/user?user=<%= teacher[:snap] %>" target="_blank">
              <%= teacher[:snap] %>
            </a>
          <% end %>
        </td>
        <td>
          <%= link_to('Website', teacher.personal_website) if teacher.personal_website %>
        </td>
        <td>
          <a href="<%= teacher.school.website %>" target="_blank">
            <%= teacher.school.name %>
          </a>
        </td>
        <td> <%= teacher.school.location %> </td>
        <td data-sort="<%= teacher.created_at %>">
          <%= teacher.created_at.strftime("%b %d, %Y") %>
        </td>
      </tr>
      <% end %>
    </tbody>
  </table>
</div>
